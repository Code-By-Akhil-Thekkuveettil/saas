<app-header></app-header>
<app-sidenav (showNav)="expand($event)" [collapsed]="expNavbar"></app-sidenav>
<!-- [ Main Content ] start -->
<div class="page-wrapper" [ngStyle]="{'padding-left': expNavbar ? '15rem' : '5rem'}">
  <div class="page-header mb-3">
    <div class="page-block">
      <div class="d-flex align-items-center justify-content-between">
        <h2 class="m-0">My accounts</h2>
      </div>
    </div>
  </div>

  <!-- Start content -->

  <div class="page-body">
    <div class="card container">
      <div class="card-header justify-content-between">
        <h5 class="card-title">My account</h5>
        <div class="search">
        </div>
      </div>
      <div class="card-body">
        <div class="row mb-2">
          <div class="col">
            <label for="">Organization</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" name="org" [(ngModel)]="account_org" />
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="">Email</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" name="email_id" [(ngModel)]="account_email" />
          </div>
        </div>
      </div>
      <div class="card-body" *ngIf="isGaEnabled">
        <app-add-details-ga></app-add-details-ga>
      </div>
    </div>
    <div class="card container mt-4" *ngIf="isSMSEnabled">
      <div class="card-body">
        <div class="sms-block">
          <label for=""><b>SMS plugin credentials</b><i>(Twilio account credentials)</i></label>

          <form class="card card-md" [formGroup]="smsForm" action="." method="post" autocomplete="off"
            (ngSubmit)="addSMS()">

            <div class="row mt-2">
              <div class="col-sm-4">
                <label for=""><b>Twilio account SID</b></label>
              </div>
              <div class="col-sm-4">
                <input type="password" name="twilio_account_sid" class="form-control"
                  formControlName="twilio_account_sid" />
                <small class="form-text text-muted"
                  *ngIf="smsForm.controls.twilio_account_sid.touched && smsForm.controls.twilio_account_sid.errors?.required">
                  <p class="error">Please enter twilio account sid.</p>
                </small>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-sm-4">
                <label for=""><b>Twilio auth token</b></label>
              </div>
              <div class="col-sm-4">
                <input type="password" name="twilio_auth_token" class="form-control"
                  formControlName="twilio_auth_token" />
                <small class="form-text text-muted"
                  *ngIf="smsForm.controls.twilio_auth_token.touched && smsForm.controls.twilio_auth_token.errors?.required">
                  <p class="error">Please enter twilio auth token.</p>
                </small>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-sm-4">
                <label for=""><b>Twilio from mobile number</b></label>
              </div>
              <div class="col-sm-4">
                <input type="password" name="twilio_from_mob_number" class="form-control"
                  formControlName="twilio_from_mob_number" />
                <small class="form-text text-muted"
                  *ngIf="smsForm.controls.twilio_from_mob_number.touched && smsForm.controls.twilio_from_mob_number.errors?.required">
                  <p class="error">Please enter twilio from mobile number.</p>
                </small>
              </div>
            </div>
            <div class="row mt-4">
              <div class="text-end">
                <button type="submit" name="smsAdd" mat-raised-button color="primary"
                  [disabled]="!smsForm.valid">Add</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="card container mt-4" *ngIf="isEmailEnabled">
      <div class="card-body">
        <div class="email-block">
          <label for=""><b>Email plugin credentials</b><i>(Sengrid account credentials)</i></label>

          <form class="card card-md" [formGroup]="emailForm" action="." method="post" autocomplete="off"
            (ngSubmit)="addEmail()">
            <div class="form-group row mt-4">
              <div class="col-sm-4">
                <span class="col-form-label">From name</span>
              </div>
              <div class="col-sm-8">
                <mat-form-field style="width: 100%;" appearance="fill">
                  <input matInput type="text" name="survey_title" formControlName="from_name" />
                </mat-form-field>
              </div>
            </div>
            <div class="form-group row mt-4">
              <div class="col-sm-4">
                <span class="col-form-label">From email</span>
              </div>
              <div class="col-sm-8">
                <mat-form-field style="width: 100%;" appearance="fill">
                  <input matInput type="text" name="survey_title" formControlName="from_email" />
                </mat-form-field>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-sm-4">
                <label for=""><b>Sendgrid api key</b></label>
              </div>
              <div class="col-sm-8">
                <input type="password" name="sendgrid_api_key" class="form-control"
                  formControlName="sendgrid_api_key" />
                <small class="form-text text-muted"
                  *ngIf="emailForm.controls.sendgrid_api_key.touched && emailForm.controls.sendgrid_api_key.errors?.required">
                  <p class="error">Please enter sengrid api key.</p>
                </small>
              </div>
            </div>

            <div class="row mt-4">
              <div class="text-end">
                <button type="submit" name="emailAdd" mat-raised-button color="primary"
                  [disabled]="!emailForm.valid">Add</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>